alternates -group gmail ^cehoffman\\+?.*@(gmail|othercoders)\.com$ ^cehoffman\\+?.*@ceh\.im$ ^misplacedbox\\+?.*@gmail\.com$
alternates -group school chrishoffman@alumni\.cmu\.edu cehoffman@cmu\.edu
alternates -group trash khaderach@comcast\.net
alternates -group mac ^cehaderach@(mac|me|icloud)\.com$
alternates -group emerson christopher\.hoffman@emerson.com

set realname     = "Chris Hoffman"
set reverse_name # build From: based on To: field if alternates matches
set charset      = 'utf-8'
set send_charset = 'utf-8'
set quit                   # Don't ask me when I try and quit
set noimap_passive         # Don't wait to check folder to see if mail exists
set timeout = 10           # Instead of waiting 10 minutes to do checks...
set tilde                  # Show tilde like in vim
set date_format = "%m/%d/%y"
set index_format = "%3C: [%Z]  %D  %-30.30F  %2M %s"
set folder_format = "%t %2C: %2N%?N? → &   ?%f %> (%s)"
set status_chars = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )──?[ %P ]───"
set attribution = "On %{%B %d at %I:%M %p}, %n wrote:"

set use_envelope_from = yes
set query_command     = "lbdbq '%s'"
set mailcap_path      = "~/.dotfiles/mailcap"
set editor            = "$EDITOR -c 'norm }o' -c 'set spell' -c 'startinsert'"
set edit_headers      # Edit the headers when writing the email
set fast_reply        # Don't ask for receipients on reply or subject on forward
set autoedit          # Just drop into creating message, I'll set To in editor
set sort              = threads                    # show threaded conversations
set sort_aux          = reverse-last-date-received # display most recent first
set header_cache      = ~/.dotfiles/mutt/cache/headers
set message_cachedir  = ~/.dotfiles/mutt/cache/bodies
set certificate_file  = ~/.dotfiles/mutt/certificates

set nohelp                     # Don't show the top help bar
set nobeep                     # No beeping software
set nobeep_new                 # Don't beep on new mail, different than $beep
set fcc_attach                 # save attachments with body
set nomime_forward             # forward attachments as part of body
set forward_format = "Fwd: %s" # Set a standard foward subject
set include                    # Include messages in replies
set include_onlyfirst          # Include only first attachment in reply
set forward_quote              # Include messages in fowards
set nomark_old                 # Don't mark unread messages as old eventually
set nomarkers                  # Don't show + for wrapped lines
set smart_wrap                 # Don't wrap mid word
set pager_stop                 # Don't move to next message when at end of a message
set pager_index_lines = 10     # Maintain a view of index when viewing message
set nowait_key                 # Don't wait to confirm running external commands, e.g. auto_view
set noconfirmappend            # Don't ask when adding messages to a mailbox
set sig_on_top                 # I might be killing kittens with this I hear
set read_inc = 100
set net_inc = 50
set write_inc = 100

ignore *
unignore To: From: Cc: Date: Subject:
unhdr_order *
hdr_order From: To: Cc: Date: Subject:

auto_view text/html application/x-gunzip applicaiton/x-tar-gz
alternative_order text/plain text/html
set implicit_autoview

# set sidebar_width   = 30
# set sidebar_visible = yes
# set sidebar_delim   = '│' # options are ─ ━ ┃

set sendmail = msmtp
set sendmail_wait = 0

folder-hook gmail/.* 'source ~/.dotfiles/mutt/personal'
folder-hook emerson/.* 'source ~/.dotfiles/mutt/emerson'
folder-hook othercoders/.* 'source ~/.dofiles/mutt/othercoders'
folder-hook apple/.* 'source ~/.dotfiles/mutt/apple'
folder-hook . "exec collapse-all"


set folder = ~/.mail
mailboxes +gmail/inbox +gmail/trash +othercoders/inbox +apple/inbox +apple/trash +emerson/inbox +emerson/sent +emerson/trash
set spoolfile = +emerson/inbox # Set the initial open mailbox

set delete # delete messags when closing mailbox, don't wait for me to force it
set nomove # Don't move read mesages from inbox (spoolfile) into mbox
set alias_file = ~/.dotfiles/mutt/aliases
set sort_alias = alias

source ~/.dotfiles/mutt/aliases
source ~/.dotfiles/mutt/colors
source ~/.dotfiles/mutt/bindings

# set crypt_use_gpgme
set pgp_sign_as=0x01F3E778
set pgp_timeout=60
set crypt_replysign          # Sign replys when author signed
set crypt_replyencrypt       # Encrypt replys when author encrypted
set crypt_replysignencrypted # Sign any auto encrypted replys
set crypt_verify_sig         # Automatically verify signatures
set crypt_autopgp            # Automatically do Sign/Encrypt based on above
set pgp_auto_decode
set pgp_use_gpg_agent        # Make use of the caching from gpg-agent

source ~/.dotfiles/mutt/gpg.rc

set display_filter = "~/.dotfiles/mutt/local-date"

set ignore_linear_white_space

# Show version at startup
push <show-version>
